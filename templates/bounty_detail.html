{% extends "base.html" %}

{% block content %}
<h2>Theorem Details</h2>
<h3>{{ bounty.theorem }}</h3>
<p><strong>Bounty:</strong> {{ bounty.bounty_amount }} ETH</p>
<p><strong>Status:</strong> {{ bounty.status }}</p>

<!-- Proof Submission Form -->
<h3>Submit Your Proof</h3>
<p id="statusMessage"></p>
<form id="submitProofForm">
    <label for="proof">Your Proof:</label><br>
    <textarea id="proof" name="proof" rows="10" cols="60" placeholder="Enter your proof here..." required></textarea><br><br>

    <button type="submit">Submit Proof</button>
</form>

<!-- Include the theorem variable in an inline script -->
<script>
    // Safely serialize the theorem variable to JSON
    const theorem = {{ bounty.theorem|tojson }};
    console.log("Theorem:", theorem);
</script>

<!-- Include your external JavaScript file after defining theorem -->
<script src="{{ url_for('static', filename='js/submit_proof.js') }}"></script>

<p><a href="{{ url_for('bounties') }}">Back to Bounties</a></p>
{% endblock %}